namespace SpriteKind {
    export const Wave = SpriteKind.create()
    export const Coral = SpriteKind.create()
    export const Knife = SpriteKind.create()
    export const Title = SpriteKind.create()
    export const Scene = SpriteKind.create()
    export const Boat = SpriteKind.create()
}
function sharkDies (aShark: Sprite) {
    info.changeScoreBy(1)
    aShark.destroy(effects.bubbles, 200)
    timer.background(function () {
        music.jumpUp.play()
    })
}
function sharkOverlapsPlayer (aShark: Sprite) {
    if (!(dying)) {
        if (sharkIsBitingGet(aShark)) {
            // Check position of bite
            if (aShark.vx < 0 && aShark.x - 3 > hunter.left) {
                playerDies(true)
            } else if (aShark.vx > 0 && aShark.x + 3 < hunter.right) {
                playerDies(true)
            } else {
            	
            }
        } else {
        	
        }
    }
}
function sharkIsAttackingSet (aShark: Sprite, value: boolean) {
    sprites.setDataBoolean(aShark, sharkIsAttacking, value)
}
function sharksFrenzy () {
    for (let value of sprites.allOfKind(SpriteKind.Enemy)) {
        if (value.vx < 0 && value.x < hunter.x || value.vx > 0 && value.x > hunter.x) {
            value.vx = 0 - value.vx
            setSharkAnimation(value, true)
        }
        value.follow(hunter, Math.abs(value.vx * 1.2))
    }
}
function playMusic () {
    timer.background(function () {
        music.playMelody(music.convertRTTTLToMelody("Jaws:d=4,o=5,b=112:e,8f,2p,e,8f,2p,8e,8f,8e,8f,8e,8f,8e,8f,8d,8e,8e,8f,8d,8e,8e,8f,8e,8f,8e,8f,8e,8f,8e,8f,8d,8e,8e,8f,8d,8e,8e,8f,8e,8f,8e,8f,8p,16p,16d#,16g,2c#6,2p,16d#,16g,16c#6,16d#6,16a#,16d#,2c#"), 224)
    })
}
function spawnLives () {
    if (nextSpawnTimeLives < game.runtime() && !(dying)) {
        nextSpawnTimeLives = getNextSpawnTime(lifeSpawnTimeMin, lifeSpawnTimeMax)
        aLife = sprites.create(lifeImages[0], SpriteKind.Food)
        aLife.y = scene.screenHeight() - aLife.height
        aLife.setFlag(SpriteFlag.AutoDestroy, true)
        aLife.z = aLife.y
        if (Math.percentChance(50)) {
            aLife.left = scene.screenWidth() - 5
            aLife.vx = 0 - randint(lifeSpeedXMin, lifeSpeedXMax)
        } else {
            aLife.right = 5
            aLife.vx = randint(lifeSpeedXMin, lifeSpeedXMax)
        }
        animation.runImageAnimation(
        aLife,
        lifeImages,
        lifeAnimationSpeed,
        true
        )
    }
}
function setSharkProperties () {
    sharkImagesLeft = [img`
        .............ccfff..............
        ...........ccddbcf..............
        ..........ccddbbf...............
        ..........fccbbcf...............
        .....fffffccccccff.........ccc..
        ...ffbbbbbbbcbbbbcfff....ccbbc..
        ..fbbbbbbbbcbcbbbbcccff.cdbbc...
        ffbbbbbbffbbcbcbbbcccccfcdbbf...
        fbcbbb11ff1bcbbbbbcccccffbbf....
        fbbb11111111bbbbbcccccccbbcf....
        .fb11133cc11bbbbcccccccccccf....
        ..fccc31c111bbbcccccbdbffbbcf...
        ...fc13c111cbbbfcddddcc..fbbf...
        ....fccc111fbdbbccdcc.....fbbf..
        ........ccccfcdbbcc........fff..
        .............fffff..............
        `, img`
        .............ccfff..............
        ............cddbbf..............
        ...........cddbbf...............
        ..........fccbbcf............ccc
        ....ffffffccccccff.........ccbbc
        ..ffbbbbbbbbbbbbbcfff.....cdbbc.
        ffbbbbbbbbbcbcbbbbcccff..cddbbf.
        fbcbbbbbffbbcbcbbbcccccfffdbbf..
        fbbb1111ff1bcbcbbbcccccccbbbcf..
        .fb11111111bbbbbbcccccccccbccf..
        ..fccc33cc11bbbbccccccccfffbbcf.
        ...fc131c111bbbcccccbdbc...fbbf.
        ....f33c111cbbbfdddddcc.....fbbf
        .....ff1111fbdbbfddcc........fff
        .......cccccfbdbbfc.............
        .............fffff..............
        `, img`
        ..............cfff..............
        ............ccddbf..............
        ...........cbddbff.........ccc..
        ..........fccbbcf.........cbbc..
        ...fffffffccccccff.......cdbc...
        .ffcbbbbbbbbbbbbbcfff....cdbf...
        fcbbbbbbbbbcbbbbbbcccff.cdbf....
        fbcbbbbffbbbcbcbbbcccccffdcf....
        fbb1111ffbbbcbcbbbccccccbbcf....
        .fb11111111bbcbbbccccccccbbcf...
        ..fccc33cb11bbbbcccccccfffbbf...
        ...fc131c111bbbcccccbdbc..fbbf..
        ....f33c111cbbccdddddbc....fff..
        .....ff1111fdbbccddbcc..........
        .......cccccfdbbbfcc............
        .............fffff..............
        `, img`
        .............ccfff..............
        ............cddbbf..............
        ...........cddbbf...............
        ..........fccbbcf............ccc
        ....ffffffccccccff.........ccbbc
        ..ffbbbbbbbbbbbbbcfff.....cdbbc.
        ffbbbbbbbbbcbcbbbbcccff..cddbbf.
        fbcbbbbbffbbcbcbbbcccccfffdbbf..
        fbbb1111ff1bcbcbbbcccccccbbbcf..
        .fb11111111bbbbbbcccccccccbccf..
        ..fccc33cc11bbbbccccccccfffbbcf.
        ...fc131c111bbbcccccbdbc...fbbf.
        ....f33c111cbbbfdddddcc.....fbbf
        .....ff1111fbdbbfddcc........fff
        .......cccccfbdbbfc.............
        .............fffff..............
        `]
    sharkImagesRight = []
    sharkAttackImagesLeft = [
    img`
        .................ccfff..............
        ................cddbbf..............
        ...............cddbbf...............
        ..............fccbbcf............ccc
        ........ffffffccccccff.........ccbbc
        ......ffbbbbbbbbbbbbbcfff.....cdbbc.
        ....ffbbbbbbbbbcbcbbbbcccff..cddbbf.
        ....fbcbbbbbffbbcbcbbbcccccfffdbbf..
        ....fbbb1111ff1bcbcbbbcccccccbbbcf..
        .....fb11111111bbbbbbcccccccccbccf..
        ......fccc33cc11bbbbccccccccfffbbcf.
        .......fc131c111bbbcccccbdbc...fbbf.
        ........f33c111cbbbfdddddcc.....fbbf
        .........ff1111fbdbbfddcc........fff
        ...........cccccfbdbbfc.............
        .................fffff..............
        `,
    img`
        .................ccfff..............
        ................cddbbf..............
        ...............cddbbf...............
        .........ffffffccbbcf...............
        ......fffbbbbbbbbcccff..............
        .....fbbbbbbbbbbbbbbbcfff......ccccc
        .....bcbbbbbffbcbcbbbbcccff...cdbbbc
        .....bbb1111ffbbcbcbbbcccccffcddbbc.
        .....fb11111111bcbcbbbcccccccbdbbf..
        ......fccc33c11bbbbbbcccccccccbbcf..
        .......fc131cc11bbbbccccccccffbccf..
        ........f33c1111bbbcccccbdbc..fbbcf.
        .........ff1111cbbbfdddddcc....fbbf.
        ...........ccc1fbdbbfddcc.......fbbf
        ..............ccfbdbbfc..........fff
        .................fffff..............
        `,
    img`
        ..................ccfff.............
        .................cddbbf.............
        ........fffffffffddbbf..............
        .......fbbbbbbbbbfcbcf..............
        .......fbbc111bffbbccffff...........
        .......fb111111ffbbbbbcccff....ccccc
        ........f1cc3311bbcbcbbccccf..cdbbbc
        ........fcc131c1bbbcbcbcccccfcddbbc.
        .........f111111bbbcbcbccccccbdbbf..
        .........f1111111bbbbbccccccccbbcf..
        ..........f111111bbbbcccccccffbccf..
        ...........c1111cbbbcccccbdbc.fbbcf.
        ............cc11cbbbfddddddc...fbbf.
        ..............cffbdbbfdddcc.....fbbf
        .................fbdbbfcc........fff
        ..................fffff.............
        `,
    img`
        ....................ccfff...........
        ..........fffffffffcbbbbf...........
        .........fbbbbbbbbbfffbf............
        .........fbb111bffbbbbff............
        .........fb11111ffbbbbbcff..........
        .........f1cccc11bbcbcbcccf.........
        ..........fc1c1c1bbbcbcbcccf...ccccc
        ............c3331bbbcbcbccccfccddbbc
        ...........c333c1bbbbbbbcccccbddbcc.
        ...........c331c11bbbbbcccccccbbcc..
        ..........cc13c111bbbbccccccffbccf..
        ..........c111111cbbbcccccbbc.fccf..
        ...........cc1111cbbbfdddddc..fbbcf.
        .............cccffbdbbfdddc....fbbf.
        ..................fbdbbfcc......fbbf
        ...................fffff.........fff
        `,
    img`
        ...........fffffff...ccfff..........
        ..........fbbbbbbbffcbbbbf..........
        ..........fbb111bbbbbffbf...........
        ..........fb11111ffbbbbff...........
        ..........f1cccc1ffbbbbbcff.........
        ..........ffc1c1c1bbcbcbcccf........
        ...........fcc3331bbbcbcbcccf..ccccc
        ............c333c1bbbcbcbccccfcddbbc
        ............c333c1bbbbbbbcccccddbcc.
        ............c333c11bbbbbccccccbbcc..
        ...........cc331c11bbbbccccccfbccf..
        ...........cc13c11cbbbcccccbbcfccf..
        ...........c111111cbbbfdddddc.fbbcf.
        ............cc1111fbdbbfdddc...fbbf.
        ..............cccfffbdbbfcc.....fbbf
        ....................fffff........fff
        `,
    img`
        ....................................
        ....................................
        ....................................
        ...............ccffff...............
        ..............cddbbbf...............
        .......ffffffcddbbbf................
        .....ffbbbbbbbbbbbbbcfff.......ccccc
        ...ffbbbbbbbbcbcbbbbbcccff....cdbbbc
        ..fbbbbbbbbbbcbbcbbbbcccccfffcddbbc.
        .fbcbbbbbbbbbbcbcbbbbccccccccbdbbf..
        .fbbbbbbbfffbbcbbbbbccccccccccbbcf..
        .ffbb1111fffbbcbbbbcccccccbcffbccf..
        ..ff111111111bbbbccccccbbbcc..fbbcf.
        ....ccccccc111bdbbbfddbccc.....ffbbf
        ........ccccccfbdbbbfcc..........fff
        ...............ffffff...............
        `
    ]
    sharkAttackImagesRight = []
    for (let index = 0; index <= sharkImagesLeft.length - 1; index++) {
        anImage = sharkImagesLeft[index].clone()
        anImage.flipX()
        sharkImagesRight[index] = anImage
    }
    for (let index2 = 0; index2 <= sharkAttackImagesLeft.length - 1; index2++) {
        anImage = sharkAttackImagesLeft[index2].clone()
        anImage.flipX()
        sharkAttackImagesRight[index2] = anImage
    }
    sharkIsAttacking = "dataSharkIsAttacking"
    sharkIsBiting = "dataSharkIsBiting"
    sharkNextAttackTime = "dataSharkNextAttackTime"
    sharkAttackMin = 200
    sharkAttackMax = 1750
    sharkAnimationSpeed = 200
}
function setPlayerPosition () {
    hunter.x = scene.screenWidth() / 2
    hunter.y = yMin
    animation.stopAnimation(animation.AnimationTypes.All, hunter)
    hunter.setImage(swimmingImagesRight[0])
    controller.moveSprite(hunter, swimmingSpeedX, swimmingSpeedY)
    character.setCharacterAnimationsEnabled(hunter, true)
    dying = false
}
function adjustSceneSpriteSpeed (sceneSprite: Sprite, sceneAdjustment: number, movingSprite: Sprite) {
    if (movingSprite.vx == 0) {
        sceneSprite.vx = 0
    } else {
        sceneSprite.vx = 0 - movingSprite.vx * sceneAdjustment
    }
}
function setPlayer () {
    setPlayerVariables()
    hunter = sprites.create(swimmingImagesRight[0], SpriteKind.Player)
    setPlayerAnimations()
    setPlayerPosition()
    hunter.setFlag(SpriteFlag.StayInScreen, true)
    hunter.setFlag(SpriteFlag.ShowPhysics, false)
    playerHealth = statusbars.create(20, 4, StatusBarKind.Health)
    playerHealth.attachToSprite(hunter)
    playerHealth.setFlag(SpriteFlag.Invisible, false)
    knife = sprites.create(kniveImagesRight[0], SpriteKind.Knife)
    knife.setFlag(SpriteFlag.Invisible, true)
    trawler.vx = trawlerSpeed
}
function sharkIsBitingSet (aShark: Sprite, value: boolean) {
    sprites.setDataBoolean(aShark, sharkIsBiting, value)
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(attacking) && !(dying) && !(showingIntroduction)) {
        hunterAttacks()
    }
})
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 10, function (status) {
    scene.cameraShake(4, 500)
    music.jumpDown.play()
})
function showTitleScreen () {
    sceneSprite = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.Scene)
    showingIntroduction = true
    scene.setBackgroundImage(img`
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
        9919999999999199999999999999999999999999999999911999999999999999199999999999999999999999919999999999999999999999999999999999999999999999999999999919999999999999
        9991999999919999999999999919111999999999999111116199999999991119999999999999999119999999199999999999999919991199999999999999999119999999999999991119919999999999
        9916699991668119999999991911161199999991116666666819999999991611999999999999111119999991666881199999999118881119999999999999911199919999999991166888811999999199
        1166899116688819999999911166666619999911166868888811999999111666611919999991166619999916688888119999911688866611199999999991166688111999999111668888886119199999
        6668881668888811999991166688888661991966668888888881188881188888666661999881888661188866888888661999166688888666111999999911668888666119991666888888888661999166
        8688886688888888888916668888888866166668888888888888888888888888888866688888888866688868888888866888168888888886618199999816888888886668886688888888888866188668
        8888888888888888888866888888888886668888888888888888888888888888888888688888888888668888888888888888668888888888668888888868888888888868888888888888888886888888
        8888888888888888888888888888888888668888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888866888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        8888888878888888888888888888888888888888888888888888888888888888888888888888888888888888887888888888888888888888888888888888888888888888888888888888888888888888
        888888887c887888888888888888788888887788888888888888888888788888888888888888878888888888887888888888888888888788888888888878888778888888887878888888888877888888
        8878888cccc78888788888888888777778887888888788888888778888788888888888888888878888cccccc887888888888788888887788877788888778888778888888887877888888878887888887
        8778888cccccc887cccc877888887cccccc78888887788888888c7c88878cccccccc7777788887888cc777778878788888887778888788788878888cc7c88888778888888878c777888c778888788887
        8777888ccccccc77cccc877888887cccccc888888887c888cccc77cc8887cccccccccc778888877ccccccccc77788778888778c77c77887888878ccc7cccc888887cc88c877cccc77ccc7c8888778887
        c88788cccccccccccccc777788cccccccccccccc888c777cccc77ccc88cc777cccc777cc8888887777cccccc8888ccc77c7788cccccc8cc77ccccccccccccc888ccccccc788cccccc77ccc888cc7cc77
        ccc78ccccccccccccc8778887ccccccccccccc88888ccccccc7ccc8888cccccccccccccccc88888ccccccccc8888cccccccc8ccccccccccccccccccccccccc888ccccccccccccccccccccc888ccccccc
        cccc887ccccccccc8877cccc77cccccccccc8888888cccccccccc888888888ccccccccc88888ccccccccccc88888cccccccc88ccccccccc88cccccccccccc8888ccccccccc8ccccccccc88888ccccccc
        cccc887ccccccccc88ccccccc78ccccccc888888888cccccccccccc8888888ccccccc8888888cccccccccccc8888ccccccccc8cccccccccc888cccccccc888888ccccccccc8cccccccc888888ccccccc
        ccc88878ccccc88888cccccc7788ccccc8888888888ccccccccc8888888888cccccc88888888cccccccccccc88888ccccccccccccccccccc8888ccccccc8888888cccccccc8ccccccccc88888ccccccc
        `)
    setScene()
    setSharkProperties()
    fadeIn()
    title1Position = sprites.create(img`
        6 . . . . . . . . . . . . . . 6 
        . 6 . . . . . . . . . . . . 6 . 
        . . 6 . . . . . . . . . . 6 . . 
        . . . 6 . . . . . . . . 6 . . . 
        . . . . 6 . . . . . . 6 . . . . 
        . . . . . 6 . . . . 6 . . . . . 
        . . . . . . 6 . . 6 . . . . . . 
        . . . . . . . 6 6 . . . . . . . 
        . . . . . . . 6 6 . . . . . . . 
        . . . . . . 6 . . 6 . . . . . . 
        . . . . . 6 . . . . 6 . . . . . 
        . . . . 6 . . . . . . 6 . . . . 
        . . . 6 . . . . . . . . 6 . . . 
        . . 6 . . . . . . . . . . 6 . . 
        . 6 . . . . . . . . . . . . 6 . 
        6 . . . . . . . . . . . . . . 6 
        `, SpriteKind.Title)
    title1Position.setFlag(SpriteFlag.Invisible, true)
    title1Position.setPosition(scene.screenWidth() / 3, scene.screenHeight() / 3)
    title2Position = sprites.create(img`
        4 . . . . . . . . . . . . . . 4 
        . 4 . . . . . . . . . . . . 4 . 
        . . 4 . . . . . . . . . . 4 . . 
        . . . 4 . . . . . . . . 4 . . . 
        . . . . 4 . . . . . . 4 . . . . 
        . . . . . 4 . . . . 4 . . . . . 
        . . . . . . 4 . . 4 . . . . . . 
        . . . . . . . 4 4 . . . . . . . 
        . . . . . . . 4 4 . . . . . . . 
        . . . . . . 4 . . 4 . . . . . . 
        . . . . . 4 . . . . 4 . . . . . 
        . . . . 4 . . . . . . 4 . . . . 
        . . . 4 . . . . . . . . 4 . . . 
        . . 4 . . . . . . . . . . 4 . . 
        . 4 . . . . . . . . . . . . 4 . 
        4 . . . . . . . . . . . . . . 4 
        `, SpriteKind.Title)
    title2Position.setFlag(SpriteFlag.Invisible, true)
    title2Position.setPosition(scene.screenWidth() / 3 + title2Position.width * 2, scene.screenHeight() - scene.screenHeight() / 2)
    title1 = sprites.create(img`
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ......................66666.....66...........................66.................
        ...................6666....6....66...........................66.................
        .................66.............66...........................6..................
        ................6................6...........................66.................
        ...............6................66...........................66.................
        ..............66.................6...........................66.................
        ..............666................6...........................66.................
        ...............6666666...........6...........................66.................
        ................666.666666666....6............................6.................
        ..........................6666...6.66666.....66666.....6.6666.6....6............
        ............................666..66....66...6....66...666.....6...6.............
        ............................666..6.....66.........6...66......6..6..............
        .............................66..6.....66.....66666...66......6.6...............
        ............................666..6.....66...66....6....6......666...............
        ............................66...6.....66..66.....6...66......6.66..............
        ............6...............66...6.....66..66....66...66......6..666............
        ...........66..............66...66.....66..66666666...66.....66....666..........
        ............66.............6....................................................
        .............66...........6.....................................................
        ..............666......666......................................................
        .................6666666........................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        `, SpriteKind.Title)
    sceneSprite = title1
    title1.left = scene.screenWidth()
    title1.y = title1Position.y
    title2 = sprites.create(img`
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        .........444444444444444........................................................
        ..........44....................................................................
        ..........44....................................................................
        ..........44....................................................................
        ...........44444444444..........................................................
        ...........44...................................................................
        ...........44...................................................................
        ...........4....................................................................
        ...........4..............4.4444...4444....4.44444...444444....4....4...........
        ...........44............444......44..44..444....4.......44...44...44...........
        ...........4.............44......44444444..4.....4......44....44....4...........
        ...........44............44.....44.........4.....4.....44.....4.....4...........
        ...........44.............4.....44.........4.....4.....4......4....44...........
        ...........44............44.....44.........4.....44...4......44....44...........
        ...........44............44......4......4..4.....44..44......44...4.4...........
        ...........44............44.......444444...4.....4..44444444..4444..4...........
        ...........44.......................................................4...........
        ...........44.......................................................4...........
        ..........444......................................................44...........
        ...................................................................44...........
        ...................................................................4............
        ............................................................4.....4.............
        ............................................................444444..............
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        ................................................................................
        `, SpriteKind.Title)
    title2.left = scene.screenWidth()
    title2.y = title2Position.y
    title1.follow(title1Position, 175)
    timer.after(500, function () {
        sceneSprite = title2
        title2.follow(title2Position, 175)
        titleShark = sprites.create(img`
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            ................................
            `, SpriteKind.Title)
        titleShark.setPosition(scene.screenWidth() + titleShark.width, scene.screenHeight() - scene.screenHeight() / 4)
        titleShark.vx = -70
        animation.runImageAnimation(
        titleShark,
        sharkAttackImagesLeft,
        sharkAnimationSpeed,
        true
        )
    })
    timer.after(2000, function () {
        sceneSprite = title1
        title1Position.x = 0 - title1Position.width * 2
        timer.after(500, function () {
            sceneSprite = title2
            title2Position.x = 0 - title2Position.width * 2
            timer.after(1000, function () {
                clearTitleScreen()
                fadeOut()
                showInstructions()
                showingIntroduction = false
            })
        })
    })
}
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 30, function (status) {
    scene.cameraShake(4, 500)
    music.jumpDown.play()
})
function getSharkAnimationSpeed (aShark: Sprite) {
    aSharkSpeed = Math.abs(aShark.vx)
    aSharkAnimationSpeed = sharkAnimationSpeed
    if (aSharkSpeed < sharkSpeedXMax) {
        aSharkAnimationSpeed = sharkAnimationSpeed + sharkAnimationSpeed * (aSharkSpeed / sharkSpeedXMax)
    }
    return aSharkAnimationSpeed
}
function sharkNextAttackTimeSet (aShark: Sprite, time: number) {
    sprites.setDataNumber(aShark, sharkNextAttackTime, time)
}
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(attacking)) {
        facingRight = false
    }
})
function adjustScene (basedOnSprite: Sprite) {
    for (let aWave of sprites.allOfKind(SpriteKind.Wave)) {
        if (aWave.right < 0) {
            aWave.left = scene.screenWidth()
        } else if (aWave.left > scene.screenWidth()) {
            aWave.right = 0
        }
        adjustSceneSpriteSpeed(aWave, waveSpeedAdjustment, basedOnSprite)
    }
    for (let aCoralReef of sprites.allOfKind(SpriteKind.Coral)) {
        if (aCoralReef.right < 0) {
            aCoralReef.left = scene.screenWidth()
        } else if (aCoralReef.left > scene.screenWidth()) {
            aCoralReef.right = 0
        }
        adjustSceneSpriteSpeed(aCoralReef, coralSpeedAdjustment, basedOnSprite)
    }
}
function checkBreathing () {
    if (hunter.y < yMin) {
        hunter.y = yMin
        if (!(dying)) {
            takingAir = true
            lastTimeNotTakingAir = game.runtime()
            playerHealth.value = 100
        }
    } else if (hunter.y > yMin + 2) {
        takingAir = false
    }
    if (!(takingAir) && !(dying)) {
        if (lastTimeNotTakingAir + loseHealthPerMilliseconds < game.runtime()) {
            playerHealth.value += -1
            lastTimeNotTakingAir = game.runtime()
        }
    }
    hunter.z = hunter.y
}
statusbars.onStatusReached(StatusBarKind.Health, statusbars.StatusComparison.EQ, statusbars.ComparisonType.Percentage, 0, function (status) {
    scene.cameraShake(4, 500)
    if (!(dying)) {
        playerDies(false)
    }
})
function sharkIsBitingGet (aShark: Sprite) {
    return sprites.readDataBoolean(aShark, sharkIsBiting)
}
function setTrawler () {
    trawlerSpeed = 15
    trawlerAnimationSpeed = 350
    trawlerImagesRight = [img`
        ................................................
        ................................................
        ....................ccccc.......................
        ...................cccccc.......................
        ..................c..ccc.c......................
        .................c....c...c.....................
        ................c.....c...c.......ccc...........
        ...............c......c....c......ccc...........
        ..............c.......c.....c.....ccc...........
        .............c........c......c.....c............
        ............c.........c......c.....c............
        ...........c..........c.......c....c............
        ..........c....cccccccccccccccccccccc...........
        .........c....cbbbbbbbbbbbbbbbbbbbbbcc..........
        ........c....ccccccccccccccccccccccccc..........
        .......c....cc11111111111111111111111c..........
        ......c.....cc99999999999999999999999c..........
        .....c........cccc...cfffc91fff11cf11c..........
        ....c...........cc...cfff911fff11cfccc..........
        ...c.............c...cffc911fff11ccc........ccc.
        ..c..............c...c119c11fff111c........ccbc.
        .cccccccccc.....c....c19c111fff111c...ccccccbcc.
        .cbbbbbbbbcccccccccccc19c111fff111cccccbbbbbc1c.
        .ccccccbbbbbbbbcbbbbbc9c1111fff111cbbbbbcccc19c.
        .cc911cccbbbbbcbbbbbbc9c1111fff1ccccccccc11191c.
        .c191111ccccccccccccccccccccccccc1111111111911c.
        .c11911111111e41e41111111111111111111111119111c.
        .c111991111111e41e411111111111111111111119111cc.
        .cc11119999999e49e49999999999999999999999111cc..
        ..cc111111111e41e41111111111111111111111111cc...
        ...cc111111111111111111111111111111111111cc.....
        ....cccccccccccccccccccccccccccccccccccccc......
        `, img`
        ................................................
        ....................ccccc.......................
        ...................cccccc.......................
        ..................c..ccc.c......................
        .................c....c...c.....................
        ................c.....c...c.......ccc...........
        ...............c......c....c......ccc...........
        ..............c.......c.....c.....ccc...........
        .............c........c......c.....c............
        ............c.........c......c.....c............
        ...........c..........c.......c....c............
        ..........c....cccccccccccccccccccccc...........
        .........c....cbbbbbbbbbbbbbbbbbbbbbcc..........
        ........c....ccccccccccccccccccccccccc..........
        .......c....cc11111111111111111111111c..........
        ......c.....cc99999999999999999999999c..........
        .....c........cccc...cfffc91fff11cf11c..........
        ....c...........cc...cfff911fff11cfccc..........
        ...c.............c...cffc911fff11ccc........ccc.
        ..c..............c...c119c11fff111c........ccbc.
        .cccccccccc.....c....c19c111fff111c...ccccccbcc.
        .cbbbbbbbbcccccccccccc19c111fff111cccccbbbbbc1c.
        .ccccccbbbbbbbbcbbbbbc9c1111fff111cbbbbbcccc19c.
        .cc911cccbbbbbcbbbbbbc9c1111fff1ccccccccc11191c.
        .c191111ccccccccccccccccccccccccc1111111111911c.
        .c11911111111e41e41111111111111111111111119111c.
        .c111991111111e41e411111111111111111111119111cc.
        .cc11119999999e49e49999999999999999999999111cc..
        ..cc111111111e41e41111111111111111111111111cc...
        ...cc111111111111111111111111111111111111cc.....
        ....cccccccccccccccccccccccccccccccccccccc......
        ................................................
        `, img`
        ....................ccccc.......................
        ...................cccccc.......................
        ..................c..ccc.c......................
        .................c....c...c.....................
        ................c.....c...c.......ccc...........
        ...............c......c....c......ccc...........
        ..............c.......c.....c.....ccc...........
        .............c........c......c.....c............
        ............c.........c......c.....c............
        ...........c..........c.......c....c............
        ..........c....cccccccccccccccccccccc...........
        .........c....cbbbbbbbbbbbbbbbbbbbbbcc..........
        ........c....ccccccccccccccccccccccccc..........
        .......c....cc11111111111111111111111c..........
        ......c.....cc99999999999999999999999c..........
        .....c........cccc...cfffc91fff11cf11c..........
        ....c...........cc...cfff911fff11cfccc..........
        ...c.............c...cffc911fff11ccc........ccc.
        ..c..............c...c119c11fff111c........ccbc.
        .cccccccccc.....c....c19c111fff111c...ccccccbcc.
        .cbbbbbbbbcccccccccccc19c111fff111cccccbbbbbc1c.
        .ccccccbbbbbbbbcbbbbbc9c1111fff111cbbbbbcccc19c.
        .cc911cccbbbbbcbbbbbbc9c1111fff1ccccccccc11191c.
        .c191111ccccccccccccccccccccccccc1111111111911c.
        .c11911111111e41e41111111111111111111111119111c.
        .c111991111111e41e411111111111111111111119111cc.
        .cc11119999999e49e49999999999999999999999111cc..
        ..cc111111111e41e41111111111111111111111111cc...
        ...cc111111111111111111111111111111111111cc.....
        ....cccccccccccccccccccccccccccccccccccccc......
        ................................................
        ................................................
        `, img`
        ................................................
        ....................ccccc.......................
        ...................cccccc.......................
        ..................c..ccc.c......................
        .................c....c...c.....................
        ................c.....c...c.......ccc...........
        ...............c......c....c......ccc...........
        ..............c.......c.....c.....ccc...........
        .............c........c......c.....c............
        ............c.........c......c.....c............
        ...........c..........c.......c....c............
        ..........c....cccccccccccccccccccccc...........
        .........c....cbbbbbbbbbbbbbbbbbbbbbcc..........
        ........c....ccccccccccccccccccccccccc..........
        .......c....cc11111111111111111111111c..........
        ......c.....cc99999999999999999999999c..........
        .....c........cccc...cfffc91fff11cf11c..........
        ....c...........cc...cfff911fff11cfccc..........
        ...c.............c...cffc911fff11ccc........ccc.
        ..c..............c...c119c11fff111c........ccbc.
        .cccccccccc.....c....c19c111fff111c...ccccccbcc.
        .cbbbbbbbbcccccccccccc19c111fff111cccccbbbbbc1c.
        .ccccccbbbbbbbbcbbbbbc9c1111fff111cbbbbbcccc19c.
        .cc911cccbbbbbcbbbbbbc9c1111fff1ccccccccc11191c.
        .c191111ccccccccccccccccccccccccc1111111111911c.
        .c11911111111e41e41111111111111111111111119111c.
        .c111991111111e41e411111111111111111111119111cc.
        .cc11119999999e49e49999999999999999999999111cc..
        ..cc111111111e41e41111111111111111111111111cc...
        ...cc111111111111111111111111111111111111cc.....
        ....cccccccccccccccccccccccccccccccccccccc......
        ................................................
        `, img`
        ................................................
        ................................................
        ....................ccccc.......................
        ...................cccccc.......................
        ..................c..ccc.c......................
        .................c....c...c.....................
        ................c.....c...c.......ccc...........
        ...............c......c....c......ccc...........
        ..............c.......c.....c.....ccc...........
        .............c........c......c.....c............
        ............c.........c......c.....c............
        ...........c..........c.......c....c............
        ..........c....cccccccccccccccccccccc...........
        .........c....cbbbbbbbbbbbbbbbbbbbbbcc..........
        ........c....ccccccccccccccccccccccccc..........
        .......c....cc11111111111111111111111c..........
        ......c.....cc99999999999999999999999c..........
        .....c........cccc...cfffc91fff11cf11c..........
        ....c...........cc...cfff911fff11cfccc..........
        ...c.............c...cffc911fff11ccc........ccc.
        ..c..............c...c119c11fff111c........ccbc.
        .cccccccccc.....c....c19c111fff111c...ccccccbcc.
        .cbbbbbbbbcccccccccccc19c111fff111cccccbbbbbc1c.
        .ccccccbbbbbbbbcbbbbbc9c1111fff111cbbbbbcccc19c.
        .cc911cccbbbbbcbbbbbbc9c1111fff1ccccccccc11191c.
        .c191111ccccccccccccccccccccccccc1111111111911c.
        .c11911111111e41e41111111111111111111111119111c.
        .c111991111111e41e411111111111111111111119111cc.
        .cc11119999999e49e49999999999999999999999111cc..
        ..cc111111111e41e41111111111111111111111111cc...
        ...cc111111111111111111111111111111111111cc.....
        ....cccccccccccccccccccccccccccccccccccccc......
        `]
    trawlerImagesLeft = []
    for (let index = 0; index <= trawlerImagesRight.length - 1; index++) {
        anImage = trawlerImagesRight[index].clone()
        anImage.flipX()
        trawlerImagesLeft[index] = anImage
    }
    trawler = sprites.create(trawlerImagesRight[0], SpriteKind.Boat)
    trawler.bottom = waves[0].y + 3
    character.loopFrames(
    trawler,
    trawlerImagesRight,
    trawlerAnimationSpeed,
    character.rule(Predicate.MovingRight)
    )
    character.loopFrames(
    trawler,
    trawlerImagesLeft,
    trawlerAnimationSpeed,
    character.rule(Predicate.MovingLeft)
    )
}
function checkTrawlerPosition () {
    if (trawler.left > scene.screenWidth() || trawler.right < 0) {
        trawler.vx = 0 - trawler.vx
    }
}
function restartAfterDying () {
    info.changeLifeBy(-1)
    for (let value2 of sprites.allOfKind(SpriteKind.Enemy)) {
        value2.destroy(effects.bubbles, 500)
    }
    for (let value2 of sprites.allOfKind(SpriteKind.Food)) {
        value2.destroy(effects.bubbles, 500)
    }
    timer.after(1500, function () {
        setPlayerPosition()
        playerHealth.value = 100
    })
}
function playerDies (byShark: boolean) {
    if (byShark) {
    	
    } else {
    	
    }
    animation.stopAnimation(animation.AnimationTypes.All, hunter)
    character.setCharacterAnimationsEnabled(hunter, false)
    dying = true
    controller.moveSprite(hunter, 0, 0)
    hunter.vy = 0 - swimmingSpeedY / 2
    if (facingRight) {
        animation.runImageAnimation(
        hunter,
        dyingImagesRight,
        hunterAnimationSpeed,
        true
        )
    } else {
        animation.runImageAnimation(
        hunter,
        dyingImagesRight,
        hunterAnimationSpeed,
        true
        )
    }
    sharksFrenzy()
    playerHealth.value = 0
    timer.background(function () {
        music.powerDown.play()
    })
    timer.after(3000, function () {
        restartAfterDying()
    })
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (!(attacking)) {
        facingRight = true
    }
})
function spawnEnemies () {
    if (nextTimeToSpawnEnemies < game.runtime() && !(dying)) {
        nextTimeToSpawnEnemies = getNextSpawnTime(sharkSpawnTimeMin, sharkSpawnTimeMax)
        aShark = sprites.create(sharkImagesLeft[0], SpriteKind.Enemy)
        aShark.top = randint(yMin, scene.screenHeight() - aShark.height)
        aShark.setFlag(SpriteFlag.AutoDestroy, true)
        aShark.z = aShark.y
        sharkIsAttackingSet(aShark, false)
        sharkIsBitingSet(aShark, false)
        sharkNextAttackTimeSet(aShark, game.runtime() + randint(sharkAttackMin, sharkAttackMax) + randint(0, sharkAttackMin) / 2)
        if (Math.percentChance(50)) {
            aShark.left = scene.screenWidth() - 5
            aShark.vx = 0 - randint(sharkSpeedXMin, sharkSpeedXMax)
        } else {
            aShark.right = 5
            aShark.vx = randint(sharkSpeedXMin, sharkSpeedXMax)
            aShark.setImage(sharkImagesRight[0])
        }
        setSharkAnimation(aShark, false)
    }
}
function setSharkAnimation (aShark: Sprite, isAttacking: boolean) {
    animation.stopAnimation(animation.AnimationTypes.All, aShark)
    if (aShark.vx < 0) {
        if (isAttacking) {
            animation.runImageAnimation(
            aShark,
            sharkAttackImagesLeft,
            getSharkAnimationSpeed(aShark),
            true
            )
        } else {
            animation.runImageAnimation(
            aShark,
            sharkImagesLeft,
            getSharkAnimationSpeed(aShark),
            true
            )
        }
    } else {
        if (isAttacking) {
            animation.runImageAnimation(
            aShark,
            sharkAttackImagesRight,
            getSharkAnimationSpeed(aShark),
            true
            )
        } else {
            animation.runImageAnimation(
            aShark,
            sharkImagesRight,
            getSharkAnimationSpeed(aShark),
            true
            )
        }
    }
}
function fadeIn () {
    color.startFade(color.Black, color.originalPalette, 1500)
    color.pauseUntilFadeDone()
}
function fadeOut () {
    color.startFade(color.originalPalette, color.Black, 1500)
    color.pauseUntilFadeDone()
}
function setScene () {
    waveSpeedAdjustment = 0.8
    waveImages = [img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..1.........11.................................11...............1.........................1.......................................................1.............
        ...1.......111............1.111............1111181..........11111..............11........11.............1...11.................11...............111..1..........
        ..181....116811.........11111611.......111116668881.........16111...........11111......11168811........11888111..............111...1.........1118888811......1..
        .1688..11168881........1111668881.....11116688888611......111688811.1......118661.....1666688811.....111688886111..........1116888111......1116688888661..1.....
        8688881186888811.....1668868888811..1.88868888888861188881166888888661...881888661188816888888661...116668888866111.......1166688886611....886888888886611...186
        8888888888888888888.116888888888811888888888888888868888886888888888668888888888881888888888888668881668888888866181.....816688888886688888888888888888661188868
        8888888888888888888886888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888888
        `, img`
        ................................................................................................................................................................
        ............................................111.................................................................................................................
        ...........................1..................111..........................................11..................1.............11..................1..............
        ..11..1....1....1..........111..............11111.............1................1..........11..............111111..............11................11..11..........
        ...1.....1.1111..........1.1181111..1.....11168811......11...111............1111.........1168............1188611..............1111..............16886111........
        11611....1688611........1116888811.....1116668888611.....1111188111.......118886111111.1116886.11.....1111188861111.........1118811........111116888861111....11
        88861118868888611....11116688888111...1886888888886888888811168866111....116888868886118868888661111.816888888868811.....111688886111111...1888688888868111..168
        8888688888888886118118886888888888888888888888888888888888886888886888888868888888888618688888886118886888888888888111...186888888688888888888888888888888888688
        8888888888888888688888888888888888888888888888888888888888888888888888888888888888888868888888888688888888888888888888888888888888888888888888888888888888888888
        `]
    waves = []
    for (let index3 = 0; index3 <= waveImages.length - 1; index3++) {
        aWave2 = sprites.create(waveImages[index3], SpriteKind.Wave)
        aWave2.setFlag(SpriteFlag.Ghost, true)
        aWave2.top = 17
        aWave2.left = 0 + scene.screenWidth() * index3
        aWave2.z = aWave2.y
        waves.push(aWave2)
    }
    yMin = waves[0].bottom - 3
    coralSpeedAdjustment = 0.6
    coralImages = [img`
        .........77...................................76............................................................................................76..................
        ........77...................................77............................................................................................77...................
        ........57...................................77..................................66........................................................77...................
        ........55..................................77.................................66................................66.......................77....................
        ........75..................................57................................76...............................66.........................57....................
        ........767......7..........................55...............................77...............................76..........................55....................
        ........767.....7...........................75...............................77..............................77...........................75....................
        .........767...76...........................767......7......................77...............................77...........................767......7............
        .........7676.67............................767.....7.......................57..............................77............................767.....7.............
        ..........766.77.............................767...76.......................55..............................57.............................767...76.............
        ...........66.766............................7676.67........................75..............................55.............................7676.67..............
        .....777....6.767.............................766.77........................767.7....7......................75..............................766.77..............
        77....77.....66767.7.............777....7......66.766...7777....7...........767.7...7.......................767......7.......................66.766........7....
        .7....7......6857567........7......7....777.....6.767.....77.....77777.......767...76...777...............7.767.....7.........7...............6.767........77...
        .7....7......66657567...7...77....77......7......66767.....7.........777.....7676.6787777......77.......77...767...76.7......77................66767.........77.
        .7....7.6....66856567..77...77...77.......7777...685756....7777......77.......766.77877........7........7....7676.67..........77777777.........685756........7..
        77.....66....668767....777..7...77............7..6665756....777...777........7.66.766877.7.....777......7.....766.77..................77.......6665756.......7..
        7.....66....6.68767.....7..77...77.77.......6.7..6685656.7.77....77.........7...6.767877.7.......7......7...7..66.76677..7....77........7.6..7.6685656.77...7...
        77....68cc.6..66767....77..7777787.7.......66....668767..7.7.....7..........7....66767...7.....77..7....7..77...6.76787.77....77...77777866.77.668767...7..7..7.
        77...768c....687677.77.7...7cccccc7.......66....6.68767..7.7cccccc777777....7....685756..7.7.777...777..7.7..7...667678c7c.....77..78888668c786.68767....7.7..7.
        777..768c.....7767..77.7...7cccccc........6....6..66767...7ccccccc7cc77.......cc.666575677..77....778c77c77..7...6857567cccc.....7cc88c868cc.6..66767....777..7.
        cc7..766.....67677.7777..cccccccccccccc..76.7....687677..cc777cccc777cc.....6.77.6685656...ccc77c7788cccccc...77.6665756ccccc...cccccc8768c....687677...cc7cc77.
        cc7..7676...668778778887ccccccccccccc....76.c.....7767...cccccccccccccccc..66.cc.668767....cccccccc8ccccccc.6.cc.6685656ccccc...cccccc8768c.....7767....cccccccc
        ccc...76776.6866877cccc77ccccc7cccc......766.....67677.......ccccccccc....668cc86868767....cccccccc88ccccc866....66876787ccc....ccc77c8766.....67677....cccccccc
        ccc...77667788688ccccccc78ccccccc........7676...66877........cc7cccc......68c7868866767....cccccc7cc8cc7c8668cc.68687678cc......cccccc87676...66877.....cccc77cc
        cc...787766768888cccccc7788c77cc..........76776.6866.........cccccc......768c8888687677.....77ccccccccc7c868c78688667678cc.......cccccc876776.6866......cccccccc
        `, img`
        ..................66..................66...............................................................................................................66.......
        ................66...................76................................66.........................66...........................66.....................76........
        ...............76...................77...............................66.........................66...........................66......................77.........
        ..............77....................77..............................76.........................76...........................76.......................77.........
        ..............77...................77..............................77.........................77...........................77.......................77..........
        .............77....................57..............................77.........................77...........................77.......................57..........
        .............57....................55.............................77.........................77...........................77........................55..........
        .............55....................75.............................57.........................57...........................57........................75..........
        .............75....................767......7.....................55.........................55...........................55........................767......7..
        .............767......7............767.....7......................75.........................75...........................75........................767.....7...
        .............767.....7..............767...76......................767......7.................767......7...................767......7.................767...76...
        ..............767...76..............7676.67.......................767.....7..................767.....7....................767.....7..................7676.67....
        77......77....7676.67................766.77........................767...76...................767...76.....................767...76...................766.77.7..
        ..7......7.....766.77......7..........66.766.......................7676.67....................7676.67......7...............7676.67.....................66.766...
        ...77.....7...7866.766.....77777....7..6.767......7..........7......766.77......77.............766.77......7777.............766.77...77........7........6.767...
        .....7..777...7786.767.777...7.77...77..66767.....777.........77..77866.766...777....7..........66.766........77.............66.766...7.........7........66767..
        ....77.77......77.66767887......7....7..685756......77.......787....786.767....7....77...7.......6.767...7.....777777.........6.767..77..........7.......685756.
        ...77..77..7......68575687.7.....7...7..6665756.....77...7...7777...78866767...77...7....7.....7..66767.77..7.......77...7.....66767.....7.7....7......7.6665756
        .7.7..cccc7....77.66657567.7777777.6.7..66856567...77....7...7.....7778685756...77cc7cc..7.....7..6857567..77...777..7..77.....685756....7.77..77...6....6685656
        777...ccccc7.6.cc.6685656..77cccc866....66876787...c7c...7.cc7cccc..7786665756..c777777..7.7...7..666575677877...7...7cc7c.....6665756...7.c7777...66....668767.
        777...ccccc866.cc.668767...7cccc866....6.687678cccc77cc...7cccccc86.c786685656cc77ccccc777...6.7..668565677787....7.ccc7c86....6685656c.77cccc777.66....6.68767.
        887..ccccc8668cc86.68767.ccccccc868cc.6..667678ccc77ccc..cc777cc866.7786687678777cccccc.....66.7c.6687678cc8cc77cccccccc866.c..6687678c788cccccc7.6.c..6..66767.
        cc7.cccccc868cc.6..66767.cccccc8768c....6876778cc7ccc....cccccc86687c86.6876787cccccccc....668cc86.687678cccccccccccccc866877.6.687678cccccccccc876.c....687677.
        ccc..7ccc8768c....687677.cccccc87687.....77678ccccc777.......cc868cc.6..667678cccccccc.....68cc.6..667678ccccc..ccccc7786.cc.6..667678ccc8cccccc876.......77678c
        ccc..7ccc8768c.....7767878ccccc8766.....676778ccccccc77......c8768c....6876778cc7777ccc...768c....6876778cccccc...cc77876......6876778ccc8cccccc8766.....676778c
        cc...78cc8766.....676778788cccc87676...668778cccccc..........c8768c.....77678cccccc7ccc...768c.....77678ccccccc....ccc876.......77678cccc8cccccc87676...668778cc
        `]
    coralReefs = []
    for (let index22 = 0; index22 <= coralImages.length - 1; index22++) {
        aCoralReef2 = sprites.create(coralImages[index22], SpriteKind.Coral)
        aCoralReef2.setFlag(SpriteFlag.Ghost, true)
        aCoralReef2.bottom = scene.screenHeight()
        aCoralReef2.left = 0 + scene.screenWidth() * index22
        aCoralReef2.z = aCoralReef2.y
        coralReefs.push(aCoralReef2)
    }
    setTrawler()
}
function sharksAttack () {
    for (let value3 of sprites.allOfKind(SpriteKind.Enemy)) {
        if (!(sharkIsAttackingGet(value3)) && sharkNextAttackTimeGet(value3) < game.runtime()) {
            timer.background(function () {
                sharkIsAttackingSet(value3, true)
                setSharkAnimation(value3, true)
                timer.background(function () {
                    timer.after(getSharkAnimationSpeed(value3) * (Math.min(sharkAttackImagesLeft.length, sharkAttackImagesRight.length) / 2), function () {
                        sharkIsBitingSet(value3, true)
                    })
                })
                timer.background(function () {
                    timer.after(getSharkAnimationSpeed(value3) * Math.min(sharkAttackImagesLeft.length, sharkAttackImagesRight.length), function () {
                        sharkNextAttackTimeSet(value3, game.runtime() + randint(sharkAttackMin, sharkAttackMax))
                        sharkIsAttackingSet(value3, false)
                        sharkIsBitingSet(value3, false)
                        setSharkAnimation(value3, false)
                    })
                })
            })
        }
    }
}
function setEnemies () {
    sharkSpawnTimeMin = 750
    sharkSpawnTimeMax = 1500
    nextTimeToSpawnEnemies = getNextSpawnTime(sharkSpawnTimeMin, sharkSpawnTimeMax)
    sharkSpeedXMin = 17
    sharkSpeedXMax = 27
}
function setPlayerAnimations () {
    character.loopFrames(
    hunter,
    swimmingImagesRight,
    hunterAnimationSpeed,
    character.rule(Predicate.MovingRight)
    )
    character.loopFrames(
    hunter,
    swimmingImagesLeft,
    hunterAnimationSpeed,
    character.rule(Predicate.MovingLeft)
    )
}
function setKnifePosition () {
    knife.top = hunter.top + 1
    if (facingRight) {
        knife.left = hunter.right - knife.width
    } else {
        knife.right = hunter.left + knife.width
    }
}
function hunterAttacks () {
    attacking = true
    character.setCharacterAnimationsEnabled(hunter, false)
    knife.setFlag(SpriteFlag.Invisible, false)
    if (facingRight) {
        animation.runImageAnimation(
        hunter,
        attackingImagesRight,
        hunterAnimationSpeed,
        false
        )
        animation.runImageAnimation(
        knife,
        kniveImagesRight,
        hunterAnimationSpeed,
        false
        )
        timer.after(500, function () {
            attacking = false
            hunter.setImage(swimmingImagesRight[0])
            character.setCharacterAnimationsEnabled(hunter, true)
            animation.stopAnimation(animation.AnimationTypes.All, knife)
            knife.setFlag(SpriteFlag.Invisible, true)
        })
    } else {
        animation.runImageAnimation(
        hunter,
        attackingImagesLeft,
        hunterAnimationSpeed,
        false
        )
        animation.runImageAnimation(
        knife,
        knifeImagesLeft,
        hunterAnimationSpeed,
        false
        )
        timer.after(500, function () {
            attacking = false
            hunter.setImage(swimmingImagesLeft[0])
            character.setCharacterAnimationsEnabled(hunter, true)
            animation.stopAnimation(animation.AnimationTypes.All, knife)
            knife.setFlag(SpriteFlag.Invisible, true)
        })
    }
}
function clearTitleScreen () {
    animation.stopAnimation(animation.AnimationTypes.All, titleShark)
    for (let value4 of sprites.allOfKind(SpriteKind.Title)) {
        value4.destroy()
    }
    sceneSprite.destroy()
}
function getNextSpawnTime (min: number, max: number) {
    return game.runtime() + randint(min, max)
}
function showInstructions () {
    fadeIn()
    game.showLongText("The ocean is rampant with killer sharks.", DialogLayout.Bottom)
    game.showLongText("Use your knife to thwart those pesky carnivores.", DialogLayout.Bottom)
    setPlayer()
    setGame()
}
function setGame () {
    setEnemies()
    setLifeItems()
    playMusic()
}
function sharkIsAttackingGet (aShark: Sprite) {
    return sprites.readDataBoolean(aShark, sharkIsAttacking)
}
function checkAttacks () {
    for (let value22 of sprites.allOfKind(SpriteKind.Enemy)) {
        if (attacking && knife.overlapsWith(value22)) {
            sharkDies(value22)
        } else if (value22.overlapsWith(hunter)) {
            sharkOverlapsPlayer(value22)
        }
    }
    for (let value22 of sprites.allOfKind(SpriteKind.Food)) {
        if (attacking && knife.overlapsWith(value22)) {
            music.powerUp.play()
            info.changeLifeBy(1)
            value22.destroy(effects.hearts, 750)
        }
    }
}
function setPlayerVariables () {
    swimmingSpeedX = 30
    swimmingSpeedY = 25
    hunterAnimationSpeed = 200
    maxLives = 5
    info.setLife(maxLives)
    info.setScore(0)
    sceneIncreaseSpeed = 0
    lastTimeNotTakingAir = game.runtime()
    loseHealthPerMilliseconds = 200
    attacking = false
    takingAir = true
    facingRight = true
    dying = false
    swimmingImagesRight = [img`
        ................................
        ................................
        ................................
        ................................
        ............4...................
        ..........433333......1.........
        ...........43.333....111........
        ...e......4.1..333..11111.......
        ..eee........1..335511115.......
        .eeeee......5.1..551111511......
        ...eee3..33355.55555ee3e3.......
        ....ee3333335545555533333.......
        ......333334444555553333........
        ..........335545555533..........
        eeeee....3333545555553..........
        .eeee333333335155555555.........
        eeeee333333355.555555553........
        e......3.3335.......55333.......
        e.....................3333...33.
        ........................3333333.
        ................................
        ................................
        ................................
        ................................
        `, img`
        ................................
        ................................
        ................................
        ................................
        ................................
        .....................333334.....
        ....................33133333....
        ...................33111..33.4..
        ..e...............5311111...4...
        .eeeee......5.....5511115..4.1..
        eeeeee33.33355.55551111511....1.
        ee..ee33333355455555ee3e3......1
        ......3333344445555533333.......
        eeeee3333333554555553333........
        .eeee33333333545555533..........
        eeeee333333335155555535.........
        e......3.33355.55553355.........
        e...........5.....3335..........
        ...........33....333............
        ............333333..............
        ................................
        ................................
        ................................
        ................................
        `]
    swimmingImagesLeft = []
    dyingImagesRight = [img`
        ...................33333........
        ..................333..3........
        .................33.......1.....
        .................333......15....
        ..................335...33511...
        .e.....333.........555.33e111...
        .e...e333333......555533331e14..
        .eeeee3333333.5..55553333e11114.
        ..eeee3..3333355155555333e1e1.34
        .eeeee....333355455555.33e11111.
        ............33554555555..e111.33
        e......33333335445555555..1...33
        e.....3333333345455555555....33.
        eeeee333333334554555...5533333..
        .eeee333...3..55........5333....
        eeeee.........5.................
        `, img`
        .......................33333....
        ..e..................333...3....
        ..e.................333...1.....
        ..eeeee.............33....15....
        ...eeee33...........53..3351....
        ..eeeee333.........555.33e111...
        ........3333......555533331e1...
        .........3333.5..55553333e1111..
        ..........333355155555333e1e14.3
        ...........33355455555533e111.43
        .e.....33...33554555555..e11.134
        .e....333333335445555555..1.1.3.
        .eeee33333333345455555555..1.33.
        ..eee33..33334554555...553..33..
        .eeee3.....3..55........53333...
        ..............5..........333....
        `]
    dyingImagesLeft = []
    attackingImagesRight = [img`
        ................................
        ......................1.........
        .....................111........
        ....................11111.......
        ..................5511115.......
        ..................51111511......
        ..................55ee3e3.......
        .................55533333.......
        ................55553333........
        ...e.......555.5555533..........
        ..eee.......5545555553.....33...
        .eeeee...33355455555555.....3...
        e..eee33.334444455555553...33...
        ......3333333354555555333.33....
        .......33333335455555..3333.....
        ........33.333515.......33......
        ....e......3335.................
        ...eee.....3335.................
        ..eeeee3..3333..................
        ..e.eee33.3333..................
        .......333333...................
        ........3333....................
        .........33.....................
        ................................
        `, img`
        ................................
        ......................1.........
        .....................111........
        ....................11111.......
        ..................5511115.......
        ..................51111511......
        ..................55ee3e3.......
        .................55533333.......
        ................55553333........
        ...........5...5555533..........
        ............5545555553...33.....
        .eeeee...33355455555555...3.....
        ..eeee333334444455555553...3....
        .eeeee3333333354555555333.33....
        .e......3333335455555..3333.....
        .e....e....333515.......33......
        .....eee...3335.................
        ....eeeee..3335.................
        ....e.eee3.333..................
        .........33333..................
        ..........3333..................
        ...........333..................
        ............33..................
        ................................
        `]
    attackingImagesLeft = []
    kniveImagesRight = [img`
        3 3 . . . . . . . 
        . 3 3 3 . 4 . . . 
        . . 3 3 4 . . . . 
        . . . 4 . 1 . . . 
        . . 1 . . . 1 . . 
        . . . . . . . 1 . 
        . . . . . . . . . 
        . . . . . . . . . 
        . . . . . . . . . 
        `, img`
        . . . . . . . . . 
        . . . . . . . . . 
        . . . . . . . . . 
        . . 3 3 3 . . . . 
        . . . 3 3 3 4 . . 
        . . . . 3 4 . . . 
        . . . . 4 . 1 . . 
        . . . . . . . 1 . 
        . . . . . . . . 1 
        `]
    knifeImagesLeft = []
    for (let index4 = 0; index4 <= swimmingImagesRight.length - 1; index4++) {
        anImage = swimmingImagesRight[index4].clone()
        anImage.flipX()
        swimmingImagesLeft[index4] = anImage
    }
    for (let index42 = 0; index42 <= dyingImagesRight.length - 1; index42++) {
        anImage = dyingImagesRight[index42].clone()
        anImage.flipX()
        dyingImagesLeft[index42] = anImage
    }
    for (let index5 = 0; index5 <= attackingImagesRight.length - 1; index5++) {
        anImage = attackingImagesRight[index5].clone()
        anImage.flipX()
        attackingImagesLeft[index5] = anImage
    }
    for (let index6 = 0; index6 <= kniveImagesRight.length - 1; index6++) {
        anImage = kniveImagesRight[index6].clone()
        anImage.flipX()
        knifeImagesLeft[index6] = anImage
    }
}
function setLifeItems () {
    lifeSpawnTimeMin = 5000
    lifeSpawnTimeMax = 10000
    nextSpawnTimeLives = getNextSpawnTime(lifeSpawnTimeMin, lifeSpawnTimeMax)
    lifeSpeedXMin = 27
    lifeSpeedXMax = 35
    lifeImages = [
    img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . c c c c c c c c . . . . 
        . . c c b b 3 b 3 3 b b c c . . 
        . c 3 3 b 3 3 b 3 3 3 b 3 3 c . 
        c d d b 3 3 b 3 3 b 3 3 b d d c 
        f c c c d d c d d c d d c c c f 
        f b 3 c c c b c c b c c c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `,
    img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . c c c c c c c c . . . . 
        . . c c b b 3 b 3 3 b b c c . . 
        . c 3 3 b 3 3 b 3 3 3 b 3 3 c . 
        c d d b 3 3 b 3 3 b 3 3 b d d c 
        f c c c d d c d d c d d c c c f 
        f b 3 c c c b c c b c c c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `,
    img`
        . . . . . f c c c c f . . . . . 
        . . c c f b b 3 3 b b f c c . . 
        . c b 3 3 b b c c b b 3 3 b c . 
        . f 3 c c c b c c b c c c 3 f . 
        f c b c e 2 2 c c 2 2 3 b b c f 
        c 3 c 2 2 2 2 2 2 2 4 2 2 c 3 c 
        c 3 c 2 2 2 2 2 2 2 2 2 2 c 3 c 
        . f c 2 2 2 2 2 2 2 2 2 2 b f . 
        . . c 2 2 2 2 2 2 2 2 2 2 f . . 
        . . c c e 2 2 2 2 2 2 3 c c . . 
        . c 3 b b e 2 2 2 2 3 d f 3 c . 
        c 3 f f 1 b e 2 2 3 f f f f 3 c 
        f 3 c c f d c 2 2 f f f c c 3 f 
        f b 3 c b b f b b f b b c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `,
    img`
        . . . . . f c c c c f . . . . . 
        . . c c f b b 3 3 b b f c c . . 
        . c b 3 3 b b c c b b 3 3 b c . 
        . f 3 c c c b c c b c c c 3 f . 
        f c b b c c b c c b c c b b c f 
        c 3 c c b c c c c c c b c c 3 c 
        c 3 c c c c c c c c c c c c 3 c 
        . f b b c c c c c c c c b b f . 
        . . f b b c 8 9 9 8 c b b f . . 
        . . c c c f 9 3 1 9 f c c c . . 
        . c 3 f f f 9 3 3 9 f f f 3 c . 
        c 3 f f f f 8 9 9 8 f f f f 3 c 
        f 3 c c f f f f f f f f c c 3 f 
        f b 3 c b b f b b f b b c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `,
    img`
        . . . . . f c c c c f . . . . . 
        . . c c f b b 3 3 b b f c c . . 
        . c b 3 3 b b c c b b 3 3 b c . 
        . f 3 c c c b c c b c c c 3 f . 
        f c b c e 2 2 c c 2 2 3 b b c f 
        c 3 c 2 2 2 2 2 2 2 4 2 2 c 3 c 
        c 3 c 2 2 2 2 2 2 2 2 2 2 c 3 c 
        . f c 2 2 2 2 2 2 2 2 2 2 b f . 
        . . c 2 2 2 2 2 2 2 2 2 2 f . . 
        . . c c e 2 2 2 2 2 2 3 c c . . 
        . c 3 b b e 2 2 2 2 3 d f 3 c . 
        c 3 f f 1 b e 2 2 3 f f f f 3 c 
        f 3 c c f d c 2 2 f f f c c 3 f 
        f b 3 c b b f b b f b b c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `,
    img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . c c c c c c c c . . . . 
        . . c c b b 3 b 3 3 b b c c . . 
        . c 3 3 b 3 3 b 3 3 3 b 3 3 c . 
        c d d b 3 3 b 3 3 b 3 3 b d d c 
        f c c c d d c d d c d d c c c f 
        f b 3 c c c b c c b c c c 3 b f 
        . c b b 3 3 b 3 3 b 3 3 b b c . 
        . . f f f f f f f f f f f f . . 
        `
    ]
    lifeAnimationSpeed = 300
}
function sharkNextAttackTimeGet (aShark: Sprite) {
    return sprites.readDataNumber(aShark, sharkNextAttackTime)
}
let dyingImagesLeft: Image[] = []
let sceneIncreaseSpeed = 0
let maxLives = 0
let knifeImagesLeft: Image[] = []
let attackingImagesLeft: Image[] = []
let attackingImagesRight: Image[] = []
let swimmingImagesLeft: Image[] = []
let aCoralReef2: Sprite = null
let coralReefs: Sprite[] = []
let coralImages: Image[] = []
let aWave2: Sprite = null
let waveImages: Image[] = []
let sharkSpeedXMin = 0
let aShark: Sprite = null
let sharkSpawnTimeMax = 0
let sharkSpawnTimeMin = 0
let nextTimeToSpawnEnemies = 0
let hunterAnimationSpeed = 0
let dyingImagesRight: Image[] = []
let waves: Sprite[] = []
let trawlerImagesLeft: Image[] = []
let trawlerImagesRight: Image[] = []
let trawlerAnimationSpeed = 0
let loseHealthPerMilliseconds = 0
let lastTimeNotTakingAir = 0
let takingAir = false
let coralSpeedAdjustment = 0
let waveSpeedAdjustment = 0
let facingRight = false
let sharkSpeedXMax = 0
let aSharkAnimationSpeed = 0
let aSharkSpeed = 0
let titleShark: Sprite = null
let title2: Sprite = null
let title1: Sprite = null
let title2Position: Sprite = null
let title1Position: Sprite = null
let sceneSprite: Sprite = null
let showingIntroduction = false
let attacking = false
let trawlerSpeed = 0
let trawler: Sprite = null
let kniveImagesRight: Image[] = []
let knife: Sprite = null
let playerHealth: StatusBarSprite = null
let swimmingSpeedY = 0
let swimmingSpeedX = 0
let swimmingImagesRight: Image[] = []
let yMin = 0
let sharkAnimationSpeed = 0
let sharkAttackMax = 0
let sharkAttackMin = 0
let sharkNextAttackTime = ""
let sharkIsBiting = ""
let anImage: Image = null
let sharkAttackImagesRight: Image[] = []
let sharkAttackImagesLeft: Image[] = []
let sharkImagesRight: Image[] = []
let sharkImagesLeft: Image[] = []
let lifeAnimationSpeed = 0
let lifeSpeedXMax = 0
let lifeSpeedXMin = 0
let lifeImages: Image[] = []
let aLife: Sprite = null
let lifeSpawnTimeMax = 0
let lifeSpawnTimeMin = 0
let nextSpawnTimeLives = 0
let sharkIsAttacking = ""
let hunter: Sprite = null
let dying = false
showTitleScreen()
game.onUpdate(function () {
    if (showingIntroduction) {
        adjustScene(sceneSprite)
    } else {
        adjustScene(hunter)
        checkBreathing()
        spawnEnemies()
        spawnLives()
        sharksAttack()
        checkAttacks()
        setKnifePosition()
        checkTrawlerPosition()
    }
})
